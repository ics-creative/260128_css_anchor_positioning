<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tooltip with Interestfor and Popover</title>
  <style>
    :root {
      --surface: #fff;
      --border: #e2e8f0;
      --accent: #3223b3;
      --shadow: 0 4px 20px rgb(15 23 42 / 0.12);
      --radius: 12px;
      --spacing: 8px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      background: #f0f0f0;
      color: #000;
      font-family: sans-serif;

      max-width: 800px;
    }

    .content {
      padding: 40px 20px;

      p {
        font-size: 1rem;
        line-height: 2;
        margin-bottom: 1.5em;
      }
    }

    a {
      cursor: pointer;
      color: var(--accent);
      text-decoration: underline;
      text-underline-offset: 2px;
      cursor: pointer;
      position: relative;

      &[interestfor="tip-anchor"] {
        anchor-name: --anchor-link;
      }

      &[interestfor="tip-popover"] {
        anchor-name: --popover-link;
      }
    }

    .info-tip {
      width: 256px;
      max-width: calc(100vw - 24px);
      padding: 0;
      border-radius: var(--radius);
      background: var(--surface);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      overflow: hidden;
      margin: 0;
      inset: auto;
      position-area: block-start;
      position-try: normal flip-block, flip-inline, flip-block flip-inline;

      /* アンカーとの “隙間” */
      margin-block-end: var(--spacing);

      opacity: 0;
      transform: translateY(8px) scale(0.9);
      transition: opacity 0.2s, transform 0.2s, overlay 0.2s allow-discrete, display 0.2s allow-discrete;

      &:popover-open {
        opacity: 1;
        transform: translateY(0) scale(1);
      }

      &::backdrop {
        background: transparent;
      }

      img {
        width: 100%;
        height: 128px;
        object-fit: cover;
        display: block;
      }

      .info-tip-content {
        padding: 16px;
      }

      .info-tip-title {
        font-size: 0.8rem;
        font-weight: bold;
        line-height: 1.5;
        color: var(--fg);
        margin: 0 0 8px 0;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .info-tip-link {
        display: inline-flex;
        align-items: center;
        padding: 4px 8px;
        color: var(--accent);
        text-decoration: none;
        font-size: 0.875rem;
        border-radius: 8px;
        border: 1px solid var(--border);
      }
    }

    #tip-anchor {
      position-anchor: --anchor-link;
    }

    #tip-popover {
      position-anchor: --popover-link;
    }

    @starting-style {
      .info-tip:popover-open {
        opacity: 0;
        transform: translateY(16px) scale(0.9);
      }
    }
  </style>
</head>
<body>
<div class="content">
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <p>
    モダンなウェブ制作において、要素の配置を柔軟に制御することは重要な課題です。従来のCSSでは、要素間の相対的な位置関係を表現するのが難しかったのですが、
    <a href="https://ics.media/entry/251215/" interestfor="tip-anchor">CSSアンカーポジショニング</a>の登場により、この問題が解決されました。anchor()関数やanchor-size()関数を使うことで、アンカー要素を基準とした位置指定が可能になります。
  </p>
  <div>
    <p>
      これらの技術を組み合わせることで、ユーザー体験を損なうことなく、コンテキストに応じた情報提供が可能になります。例えば、専門用語や技術的な概念にホバーした際に、関連する記事のプレビューを表示することで、ユーザーは文章の流れを保ちながら詳細を確認できます。
    </p>
    <p>
      また、ツールチップやポップオーバーの実装においても、HTMLの標準機能が進化しています。特に注目すべきは、popover属性の活用です。<a href="https://ics.media/entry/250417/"
                                                                                                                                 interestfor="tip-popover">popover属性</a>を使うことで、JavaScriptなしでもホバー時に情報を表示できるようになりました。
    </p>
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
  </div>

</div>

<div id="tip-anchor" class="info-tip" popover="hint">
  <img src="https://ics.media/entry/251215/images/eyecatch.png" alt=""/>
  <div class="info-tip-content">
    <h3 class="info-tip-title">CSSアンカーポジショニング入門〜anchor()・anchor-size()の使い方〜</h3>
    <a href="https://ics.media/entry/251215/" class="info-tip-link">記事を読む</a>
  </div>
</div>

<div id="tip-popover" class="info-tip" popover="hint">
  <img src="https://ics.media/entry/250417/images/eyecatch.jpg" alt=""/>
  <div class="info-tip-content">
    <h3 class="info-tip-title">ツールチップの実装に役立つ！ HTMLの新属性popover="hint"の使い方</h3>
    <a href="https://ics.media/entry/250417/" class="info-tip-link">記事を読む</a>
  </div>
</div>
</body>
</html>
